### 同步操作
future
在C++中提供了两种future,一个是普通的future,一个是shared_future，future只能调用一次，之后失效，不可复制，shared_future是可拷贝的，可以被不同的线程所获得，但这可能会导致竞争，就需要使用锁来同步访问

promise
promise可以通知future,改变future的状态
通常用于一个线程管理多个接口，使用轮询，发现有通知，获取promise，设置future的状态变为就绪

引入函数式编程的概念，该理念下的函数不会造成竞态
有以下原则
1. 不同函数之间不共享可以修改的变量，每个线程操作自己独立的数据
2. 一旦创建对象，就不再修改它，而是返回新对象，类似 const
3. 相同输入始终返回相同输出，不影响外部世界，无副作用
4. 通过组合函数表达逻辑，而不是直接修改变量，避免顺序依赖
5. 不改变全局状态、不写入文件、不打印，尽可能“干净”

.then
介绍了使用then来建立一个链式流程条，.then会在上一个可执行对象执行完后执行下一个，再加上future,就可以简单的实现非阻塞，并获取结果