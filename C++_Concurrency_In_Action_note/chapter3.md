### 共享数据
将互斥量和它要保护的数据封装进一个类中，控制它们的访问行为。
如果不这样做
1. 数据和互斥量是分离的，不利于维护；
2. 难以判断哪些数据由哪些锁保护；
3. 如果代码变复杂，很容易出错，比如漏加锁或重复加锁。

尽管这样，仍有风险造成保护失效
当成员函数返回类内被保护的变量的引用或指针，就可以绕过锁的保护

一些避免死锁的方式
1. 避免嵌套锁
2. 避免在持有锁时调用外部代码
3. 使用固定顺序获取锁
4. 使用层次锁

shared_mutex读锁，允许多个同时对数据进行读取
recursive_mutex 允许，同一个线程多次锁住同一个互斥量，但相对应的，也要解锁相应的次数
